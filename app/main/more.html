<template>
	<div class="page">

		<div class="navbar" style="height: 72px;">
			<div class="navbar-inner">
				<img class="theme-light-only" src="assets/custom/img/wokppllogo.png" height="60" alt="" />
				<div class="right">
                    
                </div>
			</div>
		</div>

		<div class="page-content" style="padding-top: 72px;">
			<div class="list">
				<ul>
					<li>
						<a href="/more/loyalty" class="item-link">
							<div class="item-content">
								<div class="item-media">
									<i class="fa-stack">
										<span class="fas fa-circle fa-stack-2x color-pink-5"></span>
										<span class="fas fa-gem fa-stack-1x fa-inverse"></span>
									</i>
								</div>
								<div class="item-inner">
									<div class="item-title">Loyalty Points</div>
								</div>
							</div>
						</a>
					</li>
					
					<li>
						<a href="/more/account" class="item-link">
							<div class="item-content">
								<div class="item-media">
									<i class="fa-stack">
										<span class="fas fa-circle fa-stack-2x color-green-5"></span>
										<span class="fas fa-user fa-stack-1x fa-inverse"></span>
									</i>
								</div>
								<div class="item-inner">
									<div class="item-title">Account Info</div>
								</div>
							</div>
						</a>
					</li>
					<li>
							<a href="/more/setting" class="item-link">
								<div class="item-content">
									<div class="item-media">
										<i class="fa-stack">
											<span class="fas fa-circle fa-stack-2x color-orange-5"></span>
											<span class="fas fa-cog fa-stack-1x fa-inverse"></span>
										</i>
									</div>
									<div class="item-inner">
										<div class="item-title">Setting</div>
									</div>
								</div>
							</a>
						</li>
					<li>
						<a @click="logout" class="item-link">
							<div class="item-content">
								<div class="item-media">
									<i class="fa-stack">
										<span class="fas fa-circle fa-stack-2x color-red-5"></span>
										<span class="fas fa-sign-out-alt fa-stack-1x fa-inverse"></span>
									</i>
								</div>
								<div class="item-inner">
									<div class="item-title">Logout</div>
								</div>
							</div>
						</a>
					</li>
				</ul>
			</div>
		</div>
	</div>
</template>

<script>
	return {
		data: function () {
						return {
							formValidator: null,
							_username: '',
							_name: '',
							_email: ''
						}
					},
					methods: {
						loadData: function () {
							var self = this;

							self.$setState({
								_username: localStorage.getItem('WOKPPL_username'),
								_name: localStorage.getItem('WOKPPL_name'),
								_email: localStorage.getItem('WOKPPL_email')
							});

						},

						refreshSearchbar: function () {
							var self = this;
							app.searchbar.clear('.searchbar');
						},
						removeCookie: function () {
							var self = this;
							localStorage.removeItem('WOKPPL_OldUser');
							localStorage.removeItem('WOKPPL_accessToken');
							localStorage.removeItem('WOKPPL_expireInSeconds');
							localStorage.removeItem('WOKPPL_expired');
							localStorage.removeItem('WOKPPL_refreshToken');
							localStorage.removeItem('WOKPPL_mobile');
							localStorage.removeItem('WOKPPL_name');
							localStorage.removeItem('WOKPPL_email');
							localStorage.removeItem('WOKPPL_username');
							localStorage.removeItem('WOKPPL_userId');
							localStorage.removeItem('WOKPPL_passcode');
							localStorage.removeItem('addProduct');
							localStorage.removeItem('cartItems');
							localStorage.removeItem('listOrderSession');
							localStorage.removeItem('listOrderDate');
							localStorage.removeItem('categories');
							localStorage.removeItem('editProduct');
							localStorage.removeItem('sessions');
							localStorage.removeItem('detTransactions');
							localStorage.removeItem('cartAvailable');
						  },
						logout: function () {
							var self = this;

							// app.request.get(window.config.url + 'api/TokenAuth/LogOut',
							// 	function (suc) {
							// 		console.log('Logout success')
							// 		console.log(suc);
							// 	},
							// 	function (err) {
							// 		console.log('Logout error')
							// 		console.log(err);
							// 	});
							//self.removeCookie();
							self.removeCookie();
							app.views.current.router.navigate('/signin');
						},
						exitApp: function () {
							navigator.app.exitApp();
						},

					},
					mounted() {
						var self = this;
						self.loadData();
					}
	}
</script>