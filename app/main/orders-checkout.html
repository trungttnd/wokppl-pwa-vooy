<template>
    <div class="page">
        <div class="navbar">
            <div class="navbar-inner">
                <img class="theme-light-only" src="assets/custom/img/wokppllogo.png" height="36" alt="" />
                <div class="right">

                </div>
            </div>
        </div>

        <div class="page-content">
            <div class="block text-align-center">
                <div class="cart-name">PAYMENT METHOD</div>
            </div>
            <form name="payment" action="/orders-finish" method="POST" enctype="multipart/form-data">
                <div class="list inset">
                        <ul>
                            {{#if listCard}}
                            {{#each listCard}}        
                            <li>
                                <!-- <label class="item-radio item-content">
                                    <input type="radio" name="creditcard" value="{{this.id}}" />
                                    <i class="icon icon-radio"></i>
                                    <div class="item-media">
                                        <i class="fa-stack">
                                            <span class="fas fa-circle fa-stack-2x brand-color-strava"></span>
                                            <span class="fa fa-university fa-stack-1x fa-inverse"></span>
                                        </i>
                                    </div>
                                    <div class="item-inner">
                                        <div class="item-title">{{this.cardHolderName}}</div>
                                        <div class="item-text">{{this.cardNumber}}</div>
                                    </div>
                                </label> -->
                                
                                    <label class="item-radio item-content">
                                            <input type="radio" name="creditcard" value="{{this.id}}" />
                                            <i class="icon icon-radio"></i>
                                        <div class="item-media">
                                            <i class="fa-stack">
                                                    <span class="fas fa-circle fa-stack-2x brand-color-strava"></span>
                                                    <span class="fa fa-university fa-stack-1x fa-inverse"></span>
                                            </i>
                                        </div>
                                        <div class="item-inner">
                                            <div class="item-title">
                                                <span>{{this.cardHolderName}}</span>
                                                <div class="item-header">{{this.cardNumber}}</div>
                                            </div>
                                        </div>
                                    </label>
                                
                            </li>
                            {{/each}}
                            {{/if}}
        
                        </ul>
                    </div>
                    <div class="card">
                        <div class="card-content card-content-padding">
                            <div class="list no-hairlines no-hairlines-between">
                                <ul>
                                    <li>
                                        <div class="item-content">
                                            <div class="item-inner">
                                                <div class="item-title">Subtotal</div>
                                                <div class="item-after">$34.50</div>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
        
                                        <div class="item-content">
                                            <div class="item-inner">
                                                <div class="item-title">Discount</div>
                                                <a href="#" class="popover-open" data-popover=".popover-text" id="popover"></a>
                                                <div class="item-after">$10.00</div>
                                            </div>
                                        </div>
        
                                    </li>
                                    <li>
                                        <div class="item-content">
                                            <div class="item-inner">
                                                <div class="item-title">GST</div>
                                                <div class="item-after">$0.00</div>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
        
                                        <div class="item-content">
                                            <div class="item-inner">
                                                <div class="item-title"><b>Grand Total</b></div>
                                                <div class="item-after"><b>$24.50</b></div>
                                            </div>
                                        </div>
        
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="block text-align-center">
                        <button type="submit" class="button button-big button-fill">Submit</button>
                    </div>
            </form>
            
        </div>
        <div class="popover popover-text">
            <div class="popover-inner">
                <div class="block">
                    <p>You paid $10.00 in Loyalty points. The remaining amount you have to pay is $24.50</p>
                </div>
            </div>
        </div>
        <div class="fab fab-right-top color-orange">
            <a href="#" class="link back">
                <i class="icon material-icons">close</i>
            </a>
        </div>

    </div>
</template>

<style scoped>
    .cart-name {
        font-size: 20px;
        font-weight: bold;
        letter-spacing: 0.5px;
        margin-top: 0px;
    }
</style>

<script>
    return {
        data: function () {
            return {
                listCard: [{
                    id: 1,
                    cardHolderName: "Trung Vooy",
                    cardNumber: "123xxxxx456",
                    isDefault: true
                },
                {
                    id: 2,
                    cardHolderName: "James Knox",
                    cardNumber: "123xxxxx456",
                    isDefault: false
                },
                {
                    id: 3,
                    cardHolderName: "Smith Alber",
                    cardNumber: "123xxxxx456",
                    isDefault: false
                }
                ],
            }
        },
        methods: {
            getId: function (id) {

            },
            clickHandle: function (id, isDefault) {
                var self = this;
                console.log(id, isDefault)
            }
        },
        on: {
            pageInit: function () {
                var self = this;
                var alink = document.getElementById("popover");
                alink.click();
            }
        }
    }
</script>